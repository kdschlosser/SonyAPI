<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<!--  -->
<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
  <title>requestToNotifyEvent - v1.0 (Scalar Web API Specification (TV))</title>
  <link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
  <link rel="stylesheet" type="text/css" href="../../../resources/scripts/prettify.css" title="prettify">
  <link rel="shortcut icon" href="../../../resources/favicon.ico">
  <script type="text/javascript" src="../../../resources/scripts/prettify.js"></script>
  <script type="text/javascript">
  <!--
    function windowTitle() {
      if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="requestToNotifyEvent - v1.0 (Scalar Web API Specification (TV))";
      }
    }
    var tabMenu = {
      init: function() {
        var headers = this.setup.tabHeaders;
        var pages = this.setup.tabPages;
        for (i = 0; i < pages.length; i++) {
          if (i !== 0) pages[i].style.display = 'none';
          headers[i].onclick = function() { tabMenu.showpagebyheader(this); return false; };
        }
      },
      showpage: function(num) {
        var headers = this.setup.tabHeaders;
        var pages = this.setup.tabPages;
        for(var i = 0; i < pages.length; i++) {
          if (i == num) {
            headers[num].className = 'tab-present';
            pages[num].style.display = 'block';
          } else {
            headers[i].className = null;
            pages[i].style.display = 'none';
          }
        }
      },
      showpagebyheader: function(obj) {
        var headers = this.setup.tabHeaders;
        var pages = this.setup.tabPages;
        var num;
        for (num = 0; num < headers.length; num++) {
          if (headers[num] === obj) break;
        }
        this.showpage(num);
      },
      showpagebyname: function(pagename) {
        var num = 0;
        switch (pagename) {
          case 'request':      num = 0; break;
          case 'response':     num = 1; break;
          case 'notification': num = 2; break;
          case 'reference':    num = 3; break;
        }
        this.showpage(num);
      }
    };
    (function() {
      function init(event) {
        prettyPrint();
      }
      if (window.addEventListener) {
        window.addEventListener("load",init,false);
      } else if (window.attachEvent) {
        window.attachEvent("onload",init);
      }
    })();
  //-->
  </script>
</head>

<body onload="windowTitle();">

<!-- container -->
<div id="container" class="">

<!-- header -->
<div id="header_bg">
  <div id="header_content">
<h1><a href="../../../index.html" target="_top">Scalar WebAPI Specification</a></h1>
<div>
<ul class="header-menu">
<li id="deviceinfo" class="menu-item"><a href="../../../../doc/Device+Specific+Information.html" target="_top">Device Info</a>
<ul>
<li class="menu-subitem"><a href="../../../device/tv/index.html" class="menu-subitem-link">TV</a>
<ul>
<li><a href="../../../device/tv/v1_0_0/index.html">v1.0.0</a></li>
<li><a href="../../../device/tv/v1_1_0/index.html">v1.1.0</a></li>
<li><a href="../../../device/tv/v1_2_0/index.html">v1.2.x</a></li>
<li><a href="../../../device/tv/v2_0_0/index.html">v2.0.0</a></li>
<li><a href="../../../device/tv/v2_1_0/index.html">v2.1.0</a></li>
<li><a href="../../../device/tv/v2_2_0/index.html">v2.2.0</a></li>
<li><a href="../../../device/tv/v2_3_0/index.html">v2.3.0</a></li>
<li><a href="../../../device/tv/v2_4_0/index.html">v2.4.0</a></li>
<li><a href="../../../device/tv/v3_0_0/index.html">v3.0.0</a></li>
<li><a href="../../../device/tv/v3_1_0/index.html">v3.1.0</a></li>
<li><a href="../../../device/tv/v3_2_0/index.html">v3.2.0</a></li>
<li><a href="../../../device/tv/v3_3_0/index.html">v3.3.0</a></li>
<li><a href="../../../device/tv/v3_4_0/index.html">v3.4.0</a></li>
</ul>
</li>
</ul>
</li>
<li id="moreinfo" class="menu-item"><a>More...</a>
<ul>
<li><a href="../../../resource-uri-list.html">Device Resource URI</a></li>
<li><a href="../../../errorcode-list.html">Error Code</a></li>
<li><a href="../../../deprecated-list.html">Deprecated List</a></li>
<li><a href="../../../index-all.html">Index List</a></li>
</ul>
</li>
</ul>
</div>
</div>

</div>

<!-- content header -->
<div class="header header-padding">
  <div class="subTitle">
    <div class="desc1">
      <a href="../../../service/photoshare/v1_0/service-summary.html">photoshare</a> - v1.0
      <span class="authlevel authlevel-private">Private</span>
    </div>
    <div class="desc2">
      <a href="../../../device/tv/index.html"><img src="../../../resources/device_tv_min.png" title="TV" /></a>

    </div>
  </div>
  <br/>

  <h2 class="title">
    <img src="../../../resources/api_longpolling.png" title="Long Polling API"> 
    requestToNotifyEvent
    <a href="../../../index.html?service/photoshare/v1_0/requestToNotifyEvent.html" target="_top" class="anchor-quiet-link">Â¶</a>
  </h2>
</div>

<!-- content container -->
<div class="contentContainer">

  <div class="description">

    <div class="contentContainer">
       <div class="block">This API provides a function to request device to start monitoring of events
which will be notified from PhotoShare application.</div>
<dl class="api-overview"><dt>Note</dt><dd>Whenever an event occurs, the server increments and records seqNum.
        The client calls this API with seqNum which the client want to
        receive. The server returns event information ONLY with the latest
        seqNum number if it is greater than or equal to seqNum which client
        specified. If an event has already occurred, the server returns
        latest event immediately. If an event has not occurred yet, the
        server will notify response after next event occurs.</dd><dt><span class="strong">Syntax</span></dt>
<dd>http://&lt;Base URL&gt;/photoshare</dd>
<dd>ws://&lt;Base URL&gt;/photoshare</dd>
<dt><span class="strong">Authentication Level</span></dt>
  <dd>private</dd></dl>

    </div> <!-- ./contentContainer -->

  </div> <!-- ./description -->

  <div class="details footer-padding">

  <div class="contentContainer">

    <ul id="tab_menu">
      <li class="tab-present"><a href="#tab_page_request">Request</a></li>
      <li class="tab-nopresent"><a href="#tab_page_response">Response</a></li>
      <li class="tab-nopresent" style="display:none"><a href="#tab_page_notification">Notification</a></li>
      <li class="tab-nopresent"><a href="#tab_page_references">See also</a></li>
    </ul>

    <div id="tab_page_request" class="tab-page">
      <dl>
<dt><i>params</i>' Elements</dt>
<dd>An object composed by following pair(s).</dd>
<dd>
<table class="apiParameters" border="0" cellpadding="3" cellspacing="0">
<tr>
<th scope="col">name</th>
<th scope="col">type</th>
<th scope="col">multiplicity</th>
<th scope="col">default</th>
<th scope="col">description</th>
</tr>
<tr>
<td class="boardcell"><a name="uuid" class="anchor"><span class="parameter-name">uuid</span></a></td>
<td class="boardcell">string</td>
<td class="boardcell">1</td>
<td class="boardcell">&nbsp;</td>
<td class="boardcell">
<div class="block">Unique id of a client.</div>
</td>
</tr>
<tr>
<td class="boardcell"><a name="seqNum" class="anchor"><span class="parameter-name">seqNum</span></a></td>
<td class="boardcell">integer</td>
<td class="boardcell">1</td>
<td class="boardcell">&nbsp;</td>
<td class="boardcell">
<div class="block">Sequence number of event that client want to be notified.</div>
</td>
</tr>
</table>
</dd>
<dt>JSON Example</dt>
<dd>
<pre class="prettyprint">{
    "id": 50,
    "method": "requestToNotifyEvent",
    "params": [{
        "seqNum": 0,
        "uuid": "xxxx"
    }],
    "version": "1.0"
}
</pre></dd>
</dl>

    </div>

    <div id="tab_page_response" class="tab-page">
      <dl>
<dt><i>result</i>'s Elements</dt>
<dd>An object composed by following pair(s).</dd>
<dd>
<table class="apiParameters" border="0" cellpadding="3" cellspacing="0">
<tr>
<th scope="col">name</th>
<th scope="col">type</th>
<th scope="col">multiplicity</th>
<th scope="col">default</th>
<th scope="col">description</th>
</tr>
<tr>
<td class="boardcell"><a name="eventName" class="anchor"><span class="parameter-name">eventName</span></a></td>
<td class="boardcell">string</td>
<td class="boardcell">1</td>
<td class="boardcell">&nbsp;</td>
<td class="boardcell">
<div class="block">Event name which happens on a server.
<ul class="paramValues">
<li><span class="option-value">"newPhoto"</span> - New photo content uploaded</li>
<li><span class="option-value">"current"</span> - Current photo content displayed changed.</li>
<li><span class="option-value">"usbDisconnected"</span> - USB device is disconnected.</li>
<li><span class="option-value">"newUser"</span> - New user joined.</li>
<li><span class="option-value">"nickname"</span> - Nickname of a user changed</li>
<li><span class="option-value">"terminated"</span> - PhotoShare application is terminated.</li>
</ul>
</div>
</td>
</tr>
<tr>
<td class="boardcell"><a name="seqNum" class="anchor"><span class="parameter-name">seqNum</span></a></td>
<td class="boardcell">integer</td>
<td class="boardcell">1</td>
<td class="boardcell">&nbsp;</td>
<td class="boardcell">
<div class="block">Sequence number of the latest event.</div>
</td>
</tr>
<tr>
<td class="boardcell"><a name="fileName" class="anchor"><span class="parameter-name">fileName</span></a></td>
<td class="boardcell">string</td>
<td class="boardcell">?</td>
<td class="boardcell">""</td>
<td class="boardcell">
<div class="block">In cases "eventName" is "newPhoto" or "current", this value is set and
means content file name.</div>
</td>
</tr>
</table>
</dd>
<dt>JSON Example</dt>
<dd>
<pre class="prettyprint">{
    "id": 50,
    "result": [{
        "seqNum": 3,
        "fileName": "abcd.jpg",
        "eventName": "newPhoto"
    }]
}
</pre></dd>
<dt>Error Code</dt>
<dd>Following error codes are important for this API. Refer to <a href="../../../errorcode-list.html">error code</a> for other errors.</dd>
<dd>
<table class="error-code" border="0" cellpadding="3" cellspacing="0">
<tr>
<th scope="col" class="error-code">code</th>
<th scope="col">Explanation</th>
</tr>
<tr>
<td><a href="../../../errorcode-list.html#7"><span class="strong">7</span></a></td>
<td>
<div class="block">PhotoShare application is not running.</div>
</td>
</tr>
<tr>
<td><a href="../../../errorcode-list.html#40000"><span class="strong">40000</span></a></td>
<td>
<div class="block">Request Retry (Long Polling timeout happens.)</div>
</td>
</tr>
<tr>
<td><a href="../../../errorcode-list.html#40001"><span class="strong">40001</span></a></td>
<td>
<div class="block">Client Over Maximum.</div>
</td>
</tr>
<tr>
<td><a href="../../../errorcode-list.html#40003"><span class="strong">40003</span></a></td>
<td>
<div class="block">Request is duplicated.</div>
</td>
</tr>
</table>
</dd>
</dl>

    </div>

    <div id="tab_page_notification" class="tab-page">
      
    </div>

    <div id="tab_page_references" class="tab-page">
      <dl>
<dt>Related APIs</dt>
<dd>No related API.</dd>
<dt>Supported Devices</dt>
<dd>
<table class="apiParameters" border="0" cellpadding="3" cellspacing="0">
<tr>
<th scope="col" class="colFirst">Device</th>
<th scope="col">Interface Version</th>
<th scope="col" class="colLast">description</th>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v2_0_0/index.html">v2.0.0</a></td>
<td class="colLast">
<div class="block">This version is TV Device's API set supported by FY14 TV.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v2_1_0/index.html">v2.1.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY14 TV after software update called NDD0.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v2_2_0/index.html">v2.2.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY14 TV after software update called NDD1.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v2_3_0/index.html">v2.3.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY14 TV after software update called NDD2.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v2_4_0/index.html">v2.4.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY14 TV after software update called NDD5.</div>
</td>
</tr>
</table>
</dd>
</dl>

    </div>

  </div> <!-- ./contentContainer -->

  </div> <!-- ./details -->

</div> <!-- ./contentContainer -->

<!-- footer -->
<div id="footer_bg">
  <div id="footer_content">
    <div class="footer-links">
    <ul>
      <li></li>
      <li></li>
    </ul>
    </div>
    <p class="copyright">Copyright 2013 -2015 (C) SONY Corp. All rights reserved.</p>
  </div>
</div> <!-- ./footer_bg -->

</div> <!-- ./container -->

<!-- Script for Tabs -->
<script type="text/javascript">
  <!--
    tabMenu.setup = {
      tabHeaders: document.getElementById('tab_menu').getElementsByTagName('li'),
      tabPages: [
        document.getElementById('tab_page_request'),
        document.getElementById('tab_page_response'),
        document.getElementById('tab_page_notification'),
        document.getElementById('tab_page_references')
      ]
    };
    tabMenu.init();

    if (1 < window.location.search.length) {
      var query = window.location.search.substring(1);
      tabMenu.showpagebyname(query);
    } else {
      tabMenu.showpagebyname('request');
    }
  //-->
</script>

</body>

</html>
