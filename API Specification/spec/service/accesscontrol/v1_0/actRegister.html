<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<!--  -->
<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
  <title>actRegister - v1.0 (Scalar Web API Specification (TV))</title>
  <link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
  <link rel="stylesheet" type="text/css" href="../../../resources/scripts/prettify.css" title="prettify">
  <link rel="shortcut icon" href="../../../resources/favicon.ico">
  <script type="text/javascript" src="../../../resources/scripts/prettify.js"></script>
  <script type="text/javascript">
  <!--
    function windowTitle() {
      if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="actRegister - v1.0 (Scalar Web API Specification (TV))";
      }
    }
    var tabMenu = {
      init: function() {
        var headers = this.setup.tabHeaders;
        var pages = this.setup.tabPages;
        for (i = 0; i < pages.length; i++) {
          if (i !== 0) pages[i].style.display = 'none';
          headers[i].onclick = function() { tabMenu.showpagebyheader(this); return false; };
        }
      },
      showpage: function(num) {
        var headers = this.setup.tabHeaders;
        var pages = this.setup.tabPages;
        for(var i = 0; i < pages.length; i++) {
          if (i == num) {
            headers[num].className = 'tab-present';
            pages[num].style.display = 'block';
          } else {
            headers[i].className = null;
            pages[i].style.display = 'none';
          }
        }
      },
      showpagebyheader: function(obj) {
        var headers = this.setup.tabHeaders;
        var pages = this.setup.tabPages;
        var num;
        for (num = 0; num < headers.length; num++) {
          if (headers[num] === obj) break;
        }
        this.showpage(num);
      },
      showpagebyname: function(pagename) {
        var num = 0;
        switch (pagename) {
          case 'request':      num = 0; break;
          case 'response':     num = 1; break;
          case 'notification': num = 2; break;
          case 'reference':    num = 3; break;
        }
        this.showpage(num);
      }
    };
    (function() {
      function init(event) {
        prettyPrint();
      }
      if (window.addEventListener) {
        window.addEventListener("load",init,false);
      } else if (window.attachEvent) {
        window.attachEvent("onload",init);
      }
    })();
  //-->
  </script>
</head>

<body onload="windowTitle();">

<!-- container -->
<div id="container" class="">

<!-- header -->
<div id="header_bg">
  <div id="header_content">
<h1><a href="../../../index.html" target="_top">Scalar WebAPI Specification</a></h1>
<div>
<ul class="header-menu">
<li id="deviceinfo" class="menu-item"><a href="../../../../doc/Device+Specific+Information.html" target="_top">Device Info</a>
<ul>
<li class="menu-subitem"><a href="../../../device/tv/index.html" class="menu-subitem-link">TV</a>
<ul>
<li><a href="../../../device/tv/v1_0_0/index.html">v1.0.0</a></li>
<li><a href="../../../device/tv/v1_1_0/index.html">v1.1.0</a></li>
<li><a href="../../../device/tv/v1_2_0/index.html">v1.2.x</a></li>
<li><a href="../../../device/tv/v2_0_0/index.html">v2.0.0</a></li>
<li><a href="../../../device/tv/v2_1_0/index.html">v2.1.0</a></li>
<li><a href="../../../device/tv/v2_2_0/index.html">v2.2.0</a></li>
<li><a href="../../../device/tv/v2_3_0/index.html">v2.3.0</a></li>
<li><a href="../../../device/tv/v2_4_0/index.html">v2.4.0</a></li>
<li><a href="../../../device/tv/v3_0_0/index.html">v3.0.0</a></li>
<li><a href="../../../device/tv/v3_1_0/index.html">v3.1.0</a></li>
<li><a href="../../../device/tv/v3_2_0/index.html">v3.2.0</a></li>
<li><a href="../../../device/tv/v3_3_0/index.html">v3.3.0</a></li>
<li><a href="../../../device/tv/v3_4_0/index.html">v3.4.0</a></li>
</ul>
</li>
</ul>
</li>
<li id="moreinfo" class="menu-item"><a>More...</a>
<ul>
<li><a href="../../../resource-uri-list.html">Device Resource URI</a></li>
<li><a href="../../../errorcode-list.html">Error Code</a></li>
<li><a href="../../../deprecated-list.html">Deprecated List</a></li>
<li><a href="../../../index-all.html">Index List</a></li>
</ul>
</li>
</ul>
</div>
</div>

</div>

<!-- content header -->
<div class="header header-padding">
  <div class="subTitle">
    <div class="desc1">
      <a href="../../../service/accesscontrol/v1_0/service-summary.html">accessControl</a> - v1.0
      <span class="authlevel authlevel-none">None</span>
    </div>
    <div class="desc2">
      <a href="../../../device/tv/index.html"><img src="../../../resources/device_tv_min.png" title="TV" /></a>

    </div>
  </div>
  <br/>

  <h2 class="title">
    <img src="../../../resources/api_standard.png" title="Standard API"> 
    actRegister
    <a href="../../../index.html?service/accesscontrol/v1_0/actRegister.html" target="_top" class="anchor-quiet-link">Â¶</a>
  </h2>
</div>

<!-- content container -->
<div class="contentContainer">

  <div class="description">

    <div class="contentContainer">
       <div class="block">This API is used to authorize application for accessing specific APIs. To get
user confirmation, server presents application information before accepting
specific requests.</div>
<dl class="api-overview"><dt>Note</dt><dd>This API is based on basic authentication mechanism defined in
        <a href="http://www.ietf.org/rfc/rfc2617.txt" target="_top">IETF RFC 2617, HTTP Authentication: Basic and Digest Access
       Authentication</a>. Once client application is authenticated by
        user, then authorized information is in Set-Cookie header defined in
        <a href="http://www.ietf.org/rfc/rfc2109.txt" target="_top">IETF RFC 2109, HTTP State Management Mechanism</a>. Following rule is defined, because this API
        requires to present user interface in both client and server
        application. Client application must provide the user interface to
        input the PIN code displayed by server device. Server device must
        show the registration confirmation UI to get the authentication from
        user. As for applications running on Web Browser, note that this API
        should not be called because some Browser implementations don't
        support displaying user and password input dialog for Basic
        Authentication. In that case, use the other registration mechanism
        instead, for example, HTML authentication explained in
        <a href="../../../../doc/Access+Control.html" target="_top">User Authentication</a>.<br/>
<br/>        <dl>
        <dt>first registration (success)</dt>
        <font color="Red"> Please pay attention that userid is always empty string. </font>
        <dd>
<img src="../../../resources/images/accesscontrol/actRegister_success.png"/>
</dd>
        <dt>first registration (PIN code is invalid)</dt>
        <dd>
<img src="../../../resources/images/accesscontrol/actRegister_invalid.png"/>
</dd>
        <dt>request from client already registered.</dt>
        <dd>
<img src="../../../resources/images/accesscontrol/actRegister_already.png"/>
</dd>
        </dl><br/>
<br/>        In case request issued by same client id is already authenticated,
        server should issue new session id and invalidate old session id.<br/>
<br/>        <dl>
        <dt>WebSocket authentication</dt>
        <dd>In the case of WebSocket, cookie is added to WebSocket upgrade
        request instead of each API request. The authentication level is
        fixed on the connection by the cookie and applied for authorization
        of all API requests on the connection.</dd>
        <dd>
<img src="../../../resources/images/accesscontrol/actRegister_websocket.png"/>
</dd>
        </dl><br/>
<br/>        Following table shows the rule of "userid" and "password" defined in
        <a href="http://www.ietf.org/rfc/rfc2617.txt" target="_top">IETF RFC 2617, HTTP Authentication: Basic and Digest Access
       Authentication</a>.<br/>
<br/>        <table>
        <tr>
        <th>parameter</td>
        <th>explanation</td>
        </tr>
        <tr>
        <td>userid</td>
        <td>Empty string</td>
        </tr>
        <tr>
        <td>password</td>
        <td>4 characters representing numeric value ("0000" - "9999")</td>
        </tr>
        </table><br/>
<br/>        The format of Authorization header is "userid:PIN" but userid is
        empty string in our specification. For example if client gets a PIN
        code "0123" from server, it needs to add ":" at the beginning and
        encode the string ":0123" by BASE64, and set the encoded string in
        header field as below.<br/>
<br/>        <pre class="prettyprint">
Authorization: Basic OjAxMjM=
</pre></dd><dt><span class="strong">Syntax</span></dt>
<dd>http://&lt;Base URL&gt;/accessControl</dd>
<dd>ws://&lt;Base URL&gt;/accessControl</dd>
<dt><span class="strong">Authentication Level</span></dt>
  <dd>none</dd></dl>

    </div> <!-- ./contentContainer -->

  </div> <!-- ./description -->

  <div class="details footer-padding">

  <div class="contentContainer">

    <ul id="tab_menu">
      <li class="tab-present"><a href="#tab_page_request">Request</a></li>
      <li class="tab-nopresent"><a href="#tab_page_response">Response</a></li>
      <li class="tab-nopresent" style="display:none"><a href="#tab_page_notification">Notification</a></li>
      <li class="tab-nopresent"><a href="#tab_page_references">See also</a></li>
    </ul>

    <div id="tab_page_request" class="tab-page">
      <dl>
<dt><i>params</i>' Elements (1st)</dt>
<dd>An object composed by following pair(s).</dd>
<dd>
<table class="apiParameters" border="0" cellpadding="3" cellspacing="0">
<tr>
<th scope="col">name</th>
<th scope="col">type</th>
<th scope="col">multiplicity</th>
<th scope="col">default</th>
<th scope="col">description</th>
</tr>
<tr>
<td class="boardcell"><a name="clientid" class="anchor"><span class="parameter-name">clientid</span></a></td>
<td class="boardcell">string</td>
<td class="boardcell">1</td>
<td class="boardcell">&nbsp;</td>
<td class="boardcell">
<div class="block">Client application id string represented by "[X]:[Y]", that is, string
[X] and [Y] are concatenated with colon ":" in between.<br/>
<br/><ul>
<li>[X]: application name (maximum 27 bytes)</li>
<li>[Y]: unique id created by UUID v4. 36 bytes including "-".</li>
</ul></div>
</td>
</tr>
<tr>
<td class="boardcell"><a name="nickname" class="anchor"><span class="parameter-name">nickname</span></a></td>
<td class="boardcell">string</td>
<td class="boardcell">1</td>
<td class="boardcell">&nbsp;</td>
<td class="boardcell">
<div class="block">Nickname to identify client application for displaying on UI. (maximum
128 bytes)</div>
</td>
</tr>
<tr>
<td class="boardcell"><a name="level" class="anchor"><span class="parameter-name">level</span></a></td>
<td class="boardcell">string</td>
<td class="boardcell">?</td>
<td class="boardcell">"private"</td>
<td class="boardcell">
<div class="block"><a href="../../../../doc/Access+Control.html" target="_top">Authentication level</a></div>
</td>
</tr>
</table>
</dd>
<dt><i>params</i>' Elements (2nd)</dt>
<dd>An array of objects composed by following pairs.</dd>
<dd>
<table class="apiParameters" border="0" cellpadding="3" cellspacing="0">
<tr>
<th scope="col">name</th>
<th scope="col">type</th>
<th scope="col">multiplicity</th>
<th scope="col">default</th>
<th scope="col">description</th>
</tr>
<tr>
<td class="boardcell"><a name="function" class="anchor"><span class="parameter-name">function</span></a></td>
<td class="boardcell">string</td>
<td class="boardcell">1</td>
<td class="boardcell">&nbsp;</td>
<td class="boardcell">
<div class="block">Functional capability name of client application. This parameter is to
provide some hint to server device to change UI.
<ul class="paramValues">
<li><span class="option-value">"WOL"</span> - Notify server if client application can send WOL packet.
         <ul>
         <li><em>"value":"yes"</em> client application can send WOL
         packet.</li>
         <li><em>"value":"no"</em> client application can not send WOL
         packet.</li>
         </ul></li>
<li><span class="option-value">"pinRegistration"</span> - Notify server if client application requires
         the device to display PIN code to authenticate it.
         <ul>
         <li><em>"value":"yes"</em> client application requires the device
         to display PIN code.</li>
         <li><em>"value":"no"</em> client application does NOT require
         device to display PIN code and just return 401 Unauthorized
         error.</li>
         </ul></li>
<li><span class="option-value">"playstationRegistration"</span> - Notify server to display
         registration UI specific to Play Station(TM) PIN code to
         authenticate it. "value" parameter is not used.</li>
</ul>
</div>
</td>
</tr>
<tr>
<td class="boardcell"><a name="value" class="anchor"><span class="parameter-name">value</span></a></td>
<td class="boardcell">string</td>
<td class="boardcell">1</td>
<td class="boardcell">&nbsp;</td>
<td class="boardcell">
<div class="block">Value of function.</div>
</td>
</tr>
</table>
</dd>
<dt>JSON Example</dt>
<dd>
<pre class="prettyprint">{
    "id": 4,
    "method": "actRegister",
    "params": [
        {
            "clientid": "TVSideView:34567890-1234-1010-8000-5c6d20c00961",
            "level": "generic",
            "nickname": "Nexus+One"
        },
        [{
            "value": "yes",
            "function": "WOL"
        }]
    ],
    "version": "1.0"
}
</pre></dd>
</dl>

    </div>

    <div id="tab_page_response" class="tab-page">
      <dl>
<dt><i>result</i>'s Elements</dt>
<dd>Not necessary.</dd>
<dt>JSON Example</dt>
<dd>
<pre class="prettyprint">{
    "id": 4,
    "result": []
}
</pre></dd>
<dt>Error Code</dt>
<dd>Following error codes are important for this API. Refer to <a href="../../../errorcode-list.html">error code</a> for other errors.</dd>
<dd>
<table class="error-code" border="0" cellpadding="3" cellspacing="0">
<tr>
<th scope="col" class="error-code">code</th>
<th scope="col">Explanation</th>
</tr>
<tr>
<td><a href="../../../errorcode-list.html#42000"><span class="strong">42000</span></a></td>
<td>
<div class="block">Client cannot be registered any more.</div>
</td>
</tr>
</table>
</dd>
</dl>

    </div>

    <div id="tab_page_notification" class="tab-page">
      
    </div>

    <div id="tab_page_references" class="tab-page">
      <dl>
<dt>Related APIs</dt>
<dd>No related API.</dd>
<dt>Supported Devices</dt>
<dd>
<table class="apiParameters" border="0" cellpadding="3" cellspacing="0">
<tr>
<th scope="col" class="colFirst">Device</th>
<th scope="col">Interface Version</th>
<th scope="col" class="colLast">description</th>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v1_0_0/index.html">v1.0.0</a></td>
<td class="colLast">
<div class="block">This version is TV Device's initial API set supported by FY13 TV.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v1_1_0/index.html">v1.1.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY13 TV after software update called NDD1.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v1_2_0/index.html">v1.2.x</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY13 TV after software update called NDD2.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v2_0_0/index.html">v2.0.0</a></td>
<td class="colLast">
<div class="block">This version is TV Device's API set supported by FY14 TV.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v2_1_0/index.html">v2.1.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY14 TV after software update called NDD0.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v2_2_0/index.html">v2.2.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY14 TV after software update called NDD1.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v2_3_0/index.html">v2.3.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY14 TV after software update called NDD2.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v2_4_0/index.html">v2.4.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY14 TV after software update called NDD5.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v3_0_0/index.html">v3.0.0</a></td>
<td class="colLast">
<div class="block">Initial supported API list for FY15 TV.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v3_1_0/index.html">v3.1.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY15 TV after software update called OTA0.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v3_2_0/index.html">v3.2.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY15 TV after software update called OTA2.<br></div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v3_3_0/index.html">v3.3.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY15 TV after software update called OTA3.<br>
getRemoteDeviceSettings(v1.0) is added in "system" service.</div>
</td>
</tr>
<tr>
<td class="colFirst">TV</td>
<td class="colFirst"><a href="../../../device/tv/v3_4_0/index.html">v3.4.0</a></td>
<td class="colLast">
<div class="block">List of all APIs supported by FY15 TV after software update called OTA4.<br>
"broadcastLink" service is added.</div>
</td>
</tr>
</table>
</dd>
</dl>

    </div>

  </div> <!-- ./contentContainer -->

  </div> <!-- ./details -->

</div> <!-- ./contentContainer -->

<!-- footer -->
<div id="footer_bg">
  <div id="footer_content">
    <div class="footer-links">
    <ul>
      <li></li>
      <li></li>
    </ul>
    </div>
    <p class="copyright">Copyright 2013 -2015 (C) SONY Corp. All rights reserved.</p>
  </div>
</div> <!-- ./footer_bg -->

</div> <!-- ./container -->

<!-- Script for Tabs -->
<script type="text/javascript">
  <!--
    tabMenu.setup = {
      tabHeaders: document.getElementById('tab_menu').getElementsByTagName('li'),
      tabPages: [
        document.getElementById('tab_page_request'),
        document.getElementById('tab_page_response'),
        document.getElementById('tab_page_notification'),
        document.getElementById('tab_page_references')
      ]
    };
    tabMenu.init();

    if (1 < window.location.search.length) {
      var query = window.location.search.substring(1);
      tabMenu.showpagebyname(query);
    } else {
      tabMenu.showpagebyname('request');
    }
  //-->
</script>

</body>

</html>
