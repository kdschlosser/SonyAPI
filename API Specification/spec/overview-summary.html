<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<!--  -->
<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
  <title>Scalar Web API Specification (TV)</title>
  <link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
  <link rel="stylesheet" type="text/css" href="resources/scripts/prettify.css" title="prettify">
  <link rel="shortcut icon" href="resources/favicon.ico">
  <script type="text/javascript" src="resources/scripts/prettify.js"></script>
  <script type="text/javascript">
    <!--
      function windowTitle() {
        if (location.href.indexOf('is-external=true') == -1) {
          parent.document.title="Scalar Web API Specification (TV)";
        }
      }
      (function() {
        function init(event) {
          prettyPrint();
      }
      if (window.addEventListener) {
          window.addEventListener("load",init,false);
      } else if (window.attachEvent) {
          window.attachEvent("onload",init);
      }
    })();
    //-->
  </script>
</head>

<body onload="windowTitle();">

<!-- container -->
<div id="container">

<!-- header -->
<div id="header_bg">
  <div id="header_content">
<h1><a href="index.html" target="_top">Scalar WebAPI Specification</a></h1>
<div>
<ul class="header-menu">
<li id="deviceinfo" class="menu-item"><a href="../doc/Device+Specific+Information.html" target="_top">Device Info</a>
<ul>
<li class="menu-subitem"><a href="device/tv/index.html" class="menu-subitem-link">TV</a>
<ul>
<li><a href="device/tv/v1_0_0/index.html">v1.0.0</a></li>
<li><a href="device/tv/v1_1_0/index.html">v1.1.0</a></li>
<li><a href="device/tv/v1_2_0/index.html">v1.2.x</a></li>
<li><a href="device/tv/v2_0_0/index.html">v2.0.0</a></li>
<li><a href="device/tv/v2_1_0/index.html">v2.1.0</a></li>
<li><a href="device/tv/v2_2_0/index.html">v2.2.0</a></li>
<li><a href="device/tv/v2_3_0/index.html">v2.3.0</a></li>
<li><a href="device/tv/v2_4_0/index.html">v2.4.0</a></li>
<li><a href="device/tv/v3_0_0/index.html">v3.0.0</a></li>
<li><a href="device/tv/v3_1_0/index.html">v3.1.0</a></li>
<li><a href="device/tv/v3_2_0/index.html">v3.2.0</a></li>
<li><a href="device/tv/v3_3_0/index.html">v3.3.0</a></li>
<li><a href="device/tv/v3_4_0/index.html">v3.4.0</a></li>
</ul>
</li>
</ul>
</li>
<li id="moreinfo" class="menu-item"><a>More...</a>
<ul>
<li><a href="resource-uri-list.html">Device Resource URI</a></li>
<li><a href="errorcode-list.html">Error Code</a></li>
<li><a href="deprecated-list.html">Deprecated List</a></li>
<li><a href="index-all.html">Index List</a></li>
</ul>
</li>
</ul>
</div>
</div>

</div>

<!-- content header -->
<div class="header header-padding">
  <h1 class="title">
    Scalar Web API Specification (TV)
    <a href="index.html" target="_top" class="anchor-quiet-link">Â¶</a>
  </h1>
</div>

<!-- content container -->
<div class="contentContainer">

  

  <div class="contentContainer document-overview">
    <div><dl>
<dt>Protocol Specification Overview</dt>
<dd>
Scalar Web API uses JSON-RPC over HTTP or WebSocket. This document mainly
explains about JSON data format of request/response for each API. Scalar Web
API Framework generates server side handler and client side stub from IDL (by
Java Interface). Using this framework, protocols used in lower layers (In
this case, JSON-RPC over HTTP or WebSocket) are abstracted on both client and
server side. Please refer to Scalar Web API Framework document for applying
it into your system.

Scalar Web API except Notification API can be used either on HTTP or
WebSocket. Notification API is for bidirectional communication which is
requested from server. It is available only on WebSocket.

Scalar Web API is categorized into services based on functionality. The list
of defined services is listed in the bottom of this page. Service name is
used as part of the Web API URL.

<ul>
<li><b>http://&lt;Base URL&gt;/&lt;service name&gt;</b></li>
Note) <a href="../doc/TV+Device+Operational+Guide+for+Interface+v3.X.Y.html" target="_top">Some devices</a> accept trailing
"/"(slash) after /&lt;service name&gt;, but client should not add slash for
consistency.
</ul>


Each service should be exclusive, and it should be clear which service an API
can belong to. It should be easier for the user to search for an API, by
searching only the list of APIs in a particular service.

A server's base URL is obtained through handshakes between client and the
server. Each API belonging to a service should be called using that service's
URL. The handshaking procedure that helps to start using the Scalar Web API
is described <a href="../doc/Initialization.html" target="_top">here</a>.</dd>

<dt>Versioning</dt>
<dd>
Scalar Web API specification is managed with version control system. Each API
has its version. Version is represented as 2 numbers separated by "." (dot).

<ul>
<li><b>X.Y</b></li>
</ul>

X means major's version. If any big change is made, this number is
incremented. Here, big change means protocol specification change affects
definitions over services.

Y means specification's minor version. This number will be incremented when
the definition of API is changed. API Definition means format of JSON. For
example, if a member is added in request or response, version must be
incremented.

Basically, every API should be defined from version 1.0.

A Scalar Web API client can get which versions a server supports by using
<code>getVersions</code> API. The versions received from getVersions
API depend on what APIs are supported on a service of that server and so
depends on server's API capability. And the client can call a specific
version's API by setting <strong>version</strong> in a request.

This version information can be used just to distinguish an API call
capability, If a client side application wants to change its behavior based
on server application's/product's generation, the client side application
should use another API to get the generation. (Ex.
<code>getInterfaceInformation</code> on <a href="service/system/v1_0/service-summary.html">system service</a>)</dd>

<dt>Scalar Web API Types</dt>
<dd>
In Scalar Web API, extended types are defined in addition to JSON types.
<table>
<tr>
<th>Type</th>
<th>Explanation</th>
</tr>
<tr>
<td>boolean</td>
<td><em>true</em> or <em>false</em> value is stored.</td>
</tr>
<tr>
<td>boolean-array</td>
<td>Multiple true or false values are stored in an array.</td>
</tr>
<tr>
<td>integer</td>
<td>
Integer number, ranging from -2147483648 to 2147483647, is stored.</td>
</tr>
<tr>
<td>integer-array</td>
<td>Multiple integer numbers are stored in an array.</td>
</tr>
<tr>
<td>double</td>
<td>Double number, ranging from -2.2250738585072014e-308 to
1.7976931348623157e+308, is stored.</td>
</tr>
<tr>
<td>double-array</td>
<td>Multiple double numbers are stored in an array.</td>
</tr>
<tr>
<td>string</td>
<td>string value. Unless otherwise mentioned in each API spec, string is
encoded with UTF-8.</td>
</tr>
<tr>
<td>string-array</td>
<td>Multiple string data are stored in an array.</td>
</tr>
</table>

<ul>
<li><strong>Note 1)</strong> If the value passed is out of range, the
behavior of device is implementation dependent</li>
</ul>
</dd>

<dt>JSON-RPC and Extensions / Restrictions</dt>
<dd>
JSON-RPC is used with some restriction and extension. JSON-RPC is simple and
light communication protocol.

<p>
<strong><em>JSON-RPC Request Example</em></strong>

<pre class="prettyprint">
{"method": "echo", "params": ["Hello Scalar Web API"], "id": 1}
</pre>

</p>
<p>
<strong><em>JSON-RPC Response Example</em></strong>

<pre class="prettyprint">
{"result": ["Hello Scalar Web API"], "error": null, "id": 1}
</pre>

</p>

We adapt some extensions and restrictions to keep APIs simple and
easy-to-use.

<ul>
<li>Extensions
<ul>
<li>If request succeeds, <strong>"error"</strong> is ignored in the response.
On the other hand, if request fails, <strong>"result"</strong> is skipped.</li>
<li><strong>"error"</strong> member must be an array and is defined as
<strong>[error_code, error_message]</strong>. <strong>"error_code"</strong>
is integer, <strong>"error_message"</strong> is string. (Common error code
and message is explained <a href="errorcode-list.html"><code>here</code></a>). API specific error code is explained on each API definitions.)</li>
<li><strong>"error_message"</strong> is just for debugging purpose. Client
application must not use this to change it's behavior, otherwise different
message might be set with same "<strong>"error_code".</strong></li>
<li><strong>"version"</strong> must be set in request.By setting version,
client side is not affected when server behavior is changed. The version can
be set as 2 numbers separated by dot (ex. "1.0"). Versioning system is
explained above.</li>
</ul>
</li>
<li>Restrictions
<ul>
<li>Null valued parameter must be regarded absent in request/response unless
otherwise mentioned in each API specification.
<li><strong>"params"/"result"</strong> must be an <font color="Red"> array
type of fixed length. </font> (Length is defined on each API specification.)</li>
<li>Variable-length elements are replied by <strong>"results"</strong>
instead of <strong>"result"</strong> in response. (<strong>"results"</strong>
is currently used for getServiceProtocols on guide service and getMethodTypes
on each service.)</li>
<li><strong>"id"</strong> is integer and "0" must not be used. "0" is used as
special number as system. The id can be set "1" - "2147483647" (0x00000001 -
0x7FFFFFFF).</li>
</ul>
</li>
</ul>

<p>
<strong><em>Scalar Web API Request Example</em></strong>

<pre class="prettyprint">
{"method": "getMyName", "params": [{"key": 1116}], "id": 2, "version": "1.0"}
</pre>

</p>
<p>
<strong><em>Scalar Web API Response Example (Success Case)</em></strong>

<pre class="prettyprint">
{"result": [{"name": "Alice"}], "id": 2}
</pre>

</p>
<p>
<strong><em>Scalar Web API Response Example (Failure Case)</em></strong>

<pre class="prettyprint">
{"error": [401, "Unauthorized"], "id": 2}
</pre>

</p>
<p>
<strong><em>Notification API</em></strong>

<pre class="prettyprint">
{"method": "notifyExample", "params": [{"value": 1}], "version": "1.0"}
</pre>

Notification is a special request sent from server without "id". The other
properties are same as normal request object. Notification does not have a
response, client must not reply to it.<br>

In Scalar Web API specification, Notification can be enabled/disabled by
switchNotifications API.

<dd>
<img src="resources/images/notificationAPI.png"/>
</dd>

</p>

</dd>

<dt>Conventions</dt>
<dd>
The characters in Italic are programming section like variable, declaration
or source code itself.

Document's internal description conventions.

<table>
<tr>
<th>Multiplicity</th>
<td>
1 : Required Once<br/>
? : Zero or Once<br/>
* : Zero or More</td>
</tr>
<tr>
<th>Default</th>
<td>Default is the value that data receiver must regard as if it were sent
from sender in case specific parameter is missing.</td>
</tr>
<tr>
<th>Date</th>
<td>We use <a href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=40874" target="_top">ISO 8601</a>.</td>
</tr>
<tr>
<th>Country</th>
<td>We use <a href="http://www.iso.org/iso/country_codes" target="_top">ISO 3166 alpha 2</a> and additional code
(depends on device spec).</td>
</tr>
</table>
</dd>

<dt>Technical Documents</dt>
<dd>
<ul>
<li><a href="../doc/Device+Discovery.html" target="_top">Device Discovery</a></li>
<li><a href="../doc/Initialization.html" target="_top">Initialization</a></li>
<li><a href="../doc/Access+Control.html" target="_top">Access Control</a></li>
</ul>
</dd>
</dl></div>

  </div>

  <div class="contentContainer footer-padding">
    <dl>
      <dt>API Service List</dt>
      <dd><table class="api-service-list" border="0" cellpadding="3" cellspacing="0">
<tr>
<th scope="col" class="service-name">Service</th>
<th scope="col" class="api-num">APIs num</th>
<th scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="service-name"><a href="service/commonapi/v1_0/service-summary.html">Common APIs</a></td>
<td class="api-num"><span class="blue-badge">2</span></td>
<td>
<div class="block">Each service has common/mandatory APIs to get supported versions and APIs.</div>
</td>
</tr>
<tr class="rowColor">
<td class="service-name"><a href="service/guide/v1_0/service-summary.html">guide</a></td>
<td class="api-num"><span class="blue-badge">2</span></td>
<td>
<div class="block">Guide service provides an API to get list of supported services on the
server.</div>
</td>
</tr>
<tr class="altColor">
<td class="service-name"><a href="service/accesscontrol/v1_0/service-summary.html">accessControl</a></td>
<td class="api-num"><span class="blue-badge">1</span></td>
<td>
<div class="block">This service handles APIs that are related to access control.</div>
</td>
</tr>
<tr class="rowColor">
<td class="service-name"><a href="service/appcontrol/v1_0/service-summary.html">appControl</a></td>
<td class="api-num"><span class="blue-badge">9</span></td>
<td>
<div class="block">This service handles APIs that are to launch application itself and the
accompanying manipulations related to specific application.</div>
</td>
</tr>
<tr class="altColor">
<td class="service-name"><a href="service/audio/v1_0/service-summary.html">audio</a></td>
<td class="api-num"><span class="blue-badge">7</span></td>
<td>
<div class="block">This service handles APIs that are related to audio functions like volume,
sound effect and so on.</div>
</td>
</tr>
<tr class="rowColor">
<td class="service-name"><a href="service/avcontent/v1_0/service-summary.html">avContent</a></td>
<td class="api-num"><span class="blue-badge">15</span></td>
<td>
<div class="block">This service handles overall control of input and output of the device for AV
contents and manipulating AV Contents itself on the device.</div>
</td>
</tr>
<tr class="altColor">
<td class="service-name"><a href="service/browser/v1_0/service-summary.html">browser</a></td>
<td class="api-num"><span class="blue-badge">4</span></td>
<td>
<div class="block">This service handles APIs to control Web Browser.</div>
</td>
</tr>
<tr class="rowColor">
<td class="service-name"><a href="service/encryption/v1_0/service-summary.html">encryption</a></td>
<td class="api-num"><span class="blue-badge">1</span></td>
<td>
<div class="block">This service handles APIs that are related to encryption.</div>
</td>
</tr>
<tr class="altColor">
<td class="service-name"><span class="deprecated-element"><a href="service/notification/v1_0/service-summary.html">notification</a></span></td>
<td class="api-num"><span class="blue-badge">1</span></td>
<td>
<div class="block"><span class="deprecated-element">This service id handles APIs that are related to notify functions.</span></div>
</td>
</tr>
<tr class="rowColor">
<td class="service-name"><a href="service/recording/v1_0/service-summary.html">recording</a></td>
<td class="api-num"><span class="blue-badge">9</span></td>
<td>
<div class="block">This service handles APIs that are related to recording timer and program
timer (AKA "Reminder") function for broadcast program.</div>
</td>
</tr>
<tr class="altColor">
<td class="service-name"><a href="service/system/v1_0/service-summary.html">system</a></td>
<td class="api-num"><span class="blue-badge">24</span></td>
<td>
<div class="block">This service handles APIs that are related to basic device functions like as
follows.</div>
</td>
</tr>
<tr class="rowColor">
<td class="service-name"><a href="service/videoscreen/v1_0/service-summary.html">videoScreen</a></td>
<td class="api-num"><span class="blue-badge">14</span></td>
<td>
<div class="block">This service handles APIs that are related to video screen functions.</div>
</td>
</tr>
<tr class="altColor">
<td class="service-name"><a href="service/cec/v1_0/service-summary.html">cec</a></td>
<td class="api-num"><span class="blue-badge">4</span></td>
<td>
<div class="block">This service handles APIs that are related to CEC functions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="service-name"><a href="service/photoshare/v1_0/service-summary.html">photoshare</a></td>
<td class="api-num"><span class="blue-badge">8</span></td>
<td>
<div class="block">This service handles APIs that are related to PhotoShare application's
functions.</div>
</td>
</tr>
<tr class="altColor">
<td class="service-name"><a href="service/broadcastlink/v1_0/service-summary.html">broadcastLink</a></td>
<td class="api-num"><span class="blue-badge">4</span></td>
<td>
<div class="block">This service handles APIs that satisfy hybridcast (defined as part of
broadcast specification in arib region and in isdbg region in the near
future.) The APIs defined in this service are related between server device
and companion application (assumed running on another device).</div>
</td>
</tr>
<tr class="rowColor">
<td class="service-name"><a href="service/contentshare/v1_0/service-summary.html">contentshare</a></td>
<td class="api-num"><span class="blue-badge">11</span></td>
<td>
<div class="block">This service handles APIs that are related to ContentShare application's
functions.</div>
</td>
</tr>
</table>
</dd>
    </dl>
  </div>

</div> <!-- ./contentContainer -->

<!-- footer -->
<div id="footer_bg">
  <div id="footer_content">
    <div class="footer-links">
    <ul>
      <li></li>
      <li></li>
    </ul>
    </div>
    <p class="copyright">Copyright 2013 -2015 (C) SONY Corp. All rights reserved.</p>
  </div>
</div> <!-- ./footer_bg -->

</div> <!-- ./container -->

</body>
</html>
